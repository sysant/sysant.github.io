---
layout: post
title: RedHat系部署ldap认证OpenVPN
categories: [OpenVpn]
description: 基于CentOS7.x部署基于LDAP认证的OpenVPN服务
keywords: openvpn,LDAP认证
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false
---
基于ldap认证的OpenVPN部署

# 一、说明

VPN直译就是虚拟专用通道，是提供给企业之间或者个人与公司之间安全数据传输的隧道，OpenVPN无疑是Linux下开源VPN的先锋，提供了良好的性能和友好的用户GUI;平时同事出差在外面连接公司，获取公司资源;2020由于新型肺炎导致春节假期延长，有条件的公司都实行在家办公，那么请问怎么保证各部门同事能在家办公？如何保障同事出差在外也能连接公司获取需要的资源?答案显然是使用vpn，本文主要讲部署openvpn和windows客户端使用。

环境：  
需要有windows域环境做ldap认证  
server:CentOS7.6 X64  
client: win7 、win10 

软件: openvpn-2.4.8-1.el7.x86_64 openvpn-auth-ldap-2.0.3-17.el7.x86_64

# 二、密钥无密码OpenVpn部署

### 1、软件包安装

```bash
yum install easy-rsa openssh-server lzo lzo-devel openssl openssl-devel openvpn NetworkManager-openvpn libgcrypt libgpg-error libgcrypt-devel openvpn-auth-ldap  openldap-clients -y
```

### 2、配置openvpn

复制默认配置文件

```bash
cp /usr/share/doc/openvpn-2.4.8/sample/sample-config-files/server.conf /etc/openvpn
```

修改server.conf

```bash
cat /etc/openvpn/server.conf |egrep ‘($|;^#)’

local 172.16.0.207 #本机ip  
port 1194 #运行端口  
proto udp # 运行协议 tcp较慢  
dev tun # #采用路由隧道模式  
ca ca.crt  
cert server.crt  
key server.key # 服务器密钥  
dh dh2048.pem # 密钥交换协议文件  
topology subnet  
server 192.168.11.0 255.255.255.0 #给客户端分配地址池，注意：不能和VPN服务器内网网段相同  
ifconfig-pool-persist ipp.txt  
push “route 0.0.0.0 0.0.0.0” # 定义网关  
push “route 192.168.11.0 255.255.255.0” #推送vpn服务器内网网段给客户端  
push “redirect-gateway def1 bypass-dhcp”  
push “dhcp-option DNS 172.16.0.1” # 推送dns配置  
keepalive 10 120 #存活时间，10秒ping一次,120 如未收到响应则视为断线  
tls-auth ta.key 0 # 第二个参数在服务器端应该为’0’，在客户端应该为’1’。  
cipher AES-256-CBC # 选择一个密码加密算法  
comp-lzo #传输数据压缩  
max-clients 100 #最多允许 50 客户端连接  
persist-key  
persist-tun  
status openvpn-status.log  
log openvpn.log  
verb 3  
mute 20　　　　 \# 相同类别的信息只有前20条会输出到日志文件中  
explicit-exit-notify 1
```

### 3、easy-rsa配置证书密钥

```
# wget https://github.com/OpenVPN/easy-rsa/archive/release/2.x.zip
# unzip easy-rsa-release-2.x.zip
# unzip
# yum install unzip
# unzip 2.x.zip
# cd easy-rsa-release-2.x/
# cd easy-rsa/
# mkdir /etc/openvpn/easy-rsa
# cp 2.0/* /etc/openvpn/easy-rsa/
# cd /etc/openvpn/easy-rsa/
# cat vars
export EASY_RSA="`pwd`"
export OPENSSL="openssl"
export PKCS11TOOL="pkcs11-tool"
export GREP="grep"
export KEY_CONFIG=`$EASY_RSA/whichopensslcnf $EASY_RSA`
export KEY_DIR="$EASY_RSA/keys"
echo NOTE: If you run ./clean-all, I will be doing a rm -rf on $KEY_DIR
export PKCS11_MODULE_PATH="dummy"
export PKCS11_PIN="dummy"
export KEY_SIZE=2048
export CA_EXPIRE=3650
export KEY_EXPIRE=3650
export KEY_COUNTRY="CN"        # 修改部分
export KEY_PROVINCE="SH"       # 修改部分
export KEY_CITY="SJ"                 # 修改部分
export KEY_ORG="ICKEY"         # 修改部分
export KEY_EMAIL="san@pkey.cn"  # 修改部分
export KEY_OU="YunWei"        # 修改部分
export KEY_NAME="EasyRSA"

```

### 4、创建证书


```
cp  /etc/openvpn/easy-rsa/openssl-1.0.0.cnf  /etc/openvpn/easy-rsa/openssl.cnf
source ./vars
./clean-all
./build-ca    #之前已配置好相关参数，故执行命令后，按回车键，一直到结束即可。
# 创建服务端证书
./build-key-server server    #创建通用名(common name)为"server"的证书文件;按回车键进行，在提示输入密码的地方，设置一个密码如ickey@2020，最后输入两次“y”确认
# 生成防攻击的key文件
openvpn --genkey --secret keys/ta.key  # 生成ta.key文件（防DDos攻击、UDP淹没等恶意攻击）
## 创建客户端证书
./build-dh    #创建秘钥文件，耗时1分钟左右
ls   /etc/openvpn/easy-rsa/keys/
cd  /etc/openvpn/easy-rsa/keys
cp  dh2048.pem  ca.crt  server.crt  server.key  ta.key   /etc/openvpn
./build-key client         #创建一个通用名(common name)为client的客户端证书;创建客户端证书文件，按回车进行，提示输入密码的地方，输入之前设置的证书密码，
ls /etc/openvpn/easy-rsa/keys/

```

### 5、启动openvpn

```bash
systemctl status openvpn@server.service
systemctl enable openvpn@server.service
systemctl start openvpn@server.service
systemctl status openvpn@server.service
```

此时系统已经开放udp 1194端口

# 三、防火墙路由配置

### 1、做端口映射

将服务器的udp 1194端口在公司出口防火墙上做端口映射为udp 1194或其他端口;

### 2、openvpn本身防火墙配置
建议将iptables关闭，并手动添加一条规则

```bash
iptables -t nat -A POSTROUTING -s 192.168.11.0/24  -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward
echo "net.ipv4.ip_forward = 1" >> /etc/sysctl.conf

重启openvpn服务 
systemctl restart openvpn@server.service

```

四、windows客户端配置


### 1、客户端下载与安装


登录后复制  
```bash
# windows客户端下载地址
https://openvpn.net/community-downloads/
# 以下是win7,win10类似
https://swupdate.openvpn.org/community/releases/openvpn-install-2.4.8-I602-Win7.exe
win10:
https://swupdate.openvpn.org/community/releases/openvpn-install-2.4.8-I602-Win10.exe
```

一路next 最后会弹出如下图 提示安装虚拟网卡驱动 钩选并安装 即可如图  

!\[openvpn001](/images/openvpn/001.png)


### 2、配置客户端


安装好openvpn客户端软件后，将openvpn服务器端/etc/openvpn/easy\-rsa/keys目录下的 ta.key,client.key,client.crt,ca.crt证书复制到客户端的安装目录的config文件夹下，然后从客户端的sample\-config文件夹内拷贝client.ovpn 到config文件夹下，编辑client.ovpn  

C:\\Program Files\\OpenVPN\\config\\cliet.ovpn配置如下：

```
client
dev tun
proto tcp
remote "你的防火墙映射出来的公网ip" 1194 
resolv-retry infinite
nobind
persist-key
persist-tun
ca ca.crt
cert client.crt
key client.key
remote-cert-tls server
tls-auth ta.key 1 cipher AES-256-CBC
comp-lzo
verb 3 mute 20

```

保存配置后双击桌面的OpenVPNGUI即完成登录;

以上是基于证书密钥登录openvpn;

# 五、基于LDAP认证


### 1、服务器端修改

```
# cat /etc/openvpn/auth/ldap.conf
<LDAP>
        URL             ldap://172.16.0.26:389
				# cat ldap.txt |grep CN=Administrator |head -n 1   
        BindDN          "CN=Administrator,CN=Users,DC=PKEY,DC=LOCAL"
        Password        PASSWORD
        Timeout         15
        TLSEnable       no
        FollowReferrals no
</LDAP>

<Authorization>
        BaseDN          "OU=PKEY,DC=PKEY,DC=LOCAL"    #查出来后范围最大化
        SearchFilter    "(&(sAMAccountName=%u)(memberof=CN=myvpn,OU=openvpn,OU=PKEY,DC=PKEY,DC=LOCAL))"
        RequireGroup    false
        <Group>
                BaseDN      "OU=openvpn,OU=PKEY,DC=PKEY,DC=LOCAL"
                SearchFilter    "(cn=openvpn)"
                MemberAttribute     "member"
        </Group>
</Authorization>

```

说明：  
以上BaseDN部分通过这个工具测试得到;另外openvpn 这个ou域上需要有，myvpn是openvpn下的安全组，即加到这个openvpn下的myvpn组中的用户可以通过认证登录openvpn,不加入这个组则不行;

```
ldapsearch -LLL -x -h 172.16.0.26 -D "administrator@pkey.local" -W -b "dc=pkey,dc=local" "*" >/tmp/ldap.txt

# cat ldap.txt |grep myvpn   #
memberOf: CN=myvpn,OU=openvpn,OU=PKEY,DC=PKEY,DC=LOCAL
```

### 2、修改server.conf配置

server.conf配置文件只需要在之前的基础上添加以下三行即可
```
# cat server.conf |egrep -v '(^$|^;|^#)' |tail -n 6
log         openvpn.log
verb 3
plugin /usr/lib64/openvpn/plugin/lib/openvpn-auth-ldap.so "/etc/openvpn/auth/ldap.conf"    #ldap认证需要添加
client-cert-not-required  # ldap认证需要添加
username-as-common-name   # ldap认证需要添加
mute 20
```

重启openvpn服务  
`systemctl restart openvpn@server.service`


### 3、客户端配置

此时客户端配置只需要修改  

C:\\Program Files\\OpenVPN\\config\\client.ovpn配置文件即可，最终配置如下：

```
client
dev tun
proto udp
remote  "你的防火墙映射出来的公网ip" 1194
resolv-retry infinite
nobind
persist-key
persist-tun
ca ca.crt
#cert client.crt    ## 结合了ldap注释
#key client.key      ## 结合了ldap注释
auth-user-pass     # 结合了ldap认证需要添加
remote-cert-tls server
tls-auth ta.key 1 
cipher AES-256-CBC
comp-lzo
verb 3
mute 20

```

此时再次运行OpenVPNGUI会弹出如下图所示：  

!\[openvpn002](/images/openvpn/002.png)

连接成功后任务栏右下角出现如下图标：  

!\[openvpn003](/images/openvpn/003.png)


如果认证失败请到服务器上  
tail -fn 100 openvpn.log 通过提示排查;  
如以上的ldap.conf中配置错误;或用户没有加到openvpn下的myvpn组会出现如下错误提示：
```bash
**LDAP user "donyc" was not found.**
Wed Feb  5 22:47:27 2020 101.80.125.78:34260 PLUGIN_CALL: POST /usr/lib64/openvpn/plugin/lib/openvpn-auth-ldap.so/PLUGIN_AUTH_USER_PASS_VERIFY status=1
Wed Feb  5 22:47:27 2020 101.80.125.78:34260 PLUGIN_CALL: plugin function PLUGIN_AUTH_USER_PASS_VERIFY failed with status 1: /usr/lib64/openvpn/plugin/lib/openvpn-auth-ldap.so
Wed Feb  5 22:47:27 2020 101.80.125.78:34260 TLS Auth Error: Auth Username/Password verification failed for peer

```

openvpn是全平台支持的;其他客户端请自行到官方网站下载;到此一个在家或出差办公的神器部署完成！  
以此献给疫情期间需要的人，如有问题请联系我谢谢!










* **赞**
* ****2**收藏**
* **评论**
* **分享**
* **举报**




上一篇：[elk(elasticsearch、logstast,kibana)filebeat部署与实践](https://blog.51cto.com/dyc2005/2447356)


下一篇：[zabbix报警之钉钉报警配置](https://blog.51cto.com/dyc2005/2548299)









[![](https://ucenter.51cto.com/images/noavatar_middle.gif)](https://blog.51cto.com/)



提问和评论都可以，用心的回复会被更多人看到
**评论**






**发布评论**





**全部评论**
()
最热
最新





**相关文章**

* [Centos7部署tomcat
 Centos7部署tomcat一、下载tomcat预编译包https://tomcat.apache.org/download\-80\.cgi上传apache\-tomcat\-8\.5\.100\.tar.gz并存放至/root/share二、服务器操作创建工作目录mkdir /usr/local/tomcat \&\& cd /usr/local/tomcat创建用户组和用户](https://blog.51cto.com/u_15538119/11181097)



 tomcat 

 apache 

 tomcat 

 中间件
* [网络监控专题之二Centos7部署Grafana
 Grafana官方下载指引：https://grafana.com/grafana/download?pg\=get\&plcmt\=selfmanaged\-box1\-cta1 \#\#\#官方地址\[root@localhost \~]\# wget https://dl.grafana.com/enterprise/release/grafana\-enterprise\-9\.3\.0\-1\.x86\_64](https://blog.51cto.com/mwxw/10933465)



 Linux 

 网络监控 

 zabbix 

 Grafana 

 系统
* [网络监控专题之一Centos7部署Zabbix
 网络设备监控专题之部署Zabbix开源监控平台](https://blog.51cto.com/mwxw/10929594)



 网络监控 

 Zabbix 

 Linux
* [Centos7部署kubernetes centos7部署zookeeper
 近一直在看zookeeper的知识，有所收获，打算写些一些关于zookeeper的博客，也当做是自己的复习和笔记。在上一篇 博客中简单地介绍了centos 7 下如何安装jdk，这一篇将介绍如何在centos中安装zookeeper并做集群部署。1、下载zookeeper安装包，百度一下zookeeper就可以找到了，建议使用stable版本，我使用的是版本是：zookeeper\-3\.4](https://blog.51cto.com/u_16213661/8044747)



 Centos7部署kubernetes 

 zookeeper 

 服务器 

 java
* [centos7部署openstack centos7部署网站
 CentOS7下部署网站并访问在CentOS7下部署网站，并可以通过公网ip访问。首先，确保你的虚拟机具备以下条件：1\.能正常联网。2\.具备java环境。1\.查看虚拟机是否正常联网，可以使用ping命令。ping www.baidu.com 出现该情况表示正常联网。2\.查看是否具备java环境。java \-version出现该情况表示具备java环境。 如果没有以上两个环境可以自行百度解决！](https://blog.51cto.com/u_12187/6431675)



 java 

 jar 

 tomcat 

 centos 

 linux
* [centos7部署sonar centos7部署nfs
 NFS（Network File System），即网络文件系统。NFS服务可以将远程Linux系统上的文件共享资源挂载到本地主机的目录上，从而使用本地主机（Linux客户端）像使用本地资源那样读写远程Linux系统上的共享资源。表1：系统环境主机名称操作系统IP地址NFS服务器Centos 7 64位192\.168\.2\.211NFS客户端Centos 7 64位192\.168\.2\.223表2：N](https://blog.51cto.com/u_16213710/10233386)



 centos7部署sonar 

 开发工具 

 运维 

 操作系统 

 服务器
* [centos7部署ASP centos7部署kvm
 概述为什么会把题目定位kvm虚拟机简单定制呢？我想把自己对kvm虚拟机的认识系统的写下来，但感觉一下子不知道该怎么写。比如说安装就有很多参数：从光盘安启动安装或是从现有磁盘启动、磁盘大小是多少、网络类型是怎样的、cpu规格是怎样的、内存又是多少？另外如何实现网络类型转换、各种分区的扩展，或是当你想添加一块网卡时要如何操作？想的太多，水平不够，当然就很难用简短的文字描述，所以干脆从初始构建开始，把这](https://blog.51cto.com/u_12197/11113844)



 centos7部署ASP 

 awk 

 运维 

 网络 

 CentOS
* [centos7部署mysql CentOS7部署kafka
 前言本教程是在同一台Linux服务器上搭建三个节点Kafka集群，Zookeeper是使用单独安装的（安装教程），同学们也可以使用Kafka中自带的Zookeeper（可网上查询）。 一.下载wget https://mirrors.bfsu.edu.cn/apache/kafka/2\.7\.0/kafka\_2\.12\-2\.7\.0\.tgz    二.解压并复制到](https://blog.51cto.com/u_16099324/6677806)



 centos7部署mysql 

 Kafka 

 kafka 

 IP 

 zookeeper
* [centos7部署docker centos7部署redis
 一. 安装操作系统：Centos 7\. 最小化安装redis版本: 4\.0\.2服务器地址：\*\*\*安装过程： 安装wget，yum \-y install wget   2\.  下载rediswget http://download.redis.io/releases/redis\-4\.0\.2\.tar.gz3\.\&n](https://blog.51cto.com/u_16099204/6372047)



 redis 

 Redis 

 配置文件
* [centos7部署mysqldiff CentOS7部署kafka
 Centos7 Kafka初次安装部署环境：虚拟机，centos7系统。步骤：一、安装JDK1\.8以上版本 此处略过二、zookeeper环境搭建1、下载Zookeeper并解压到制定的目录(或者提前进入到 cd /opt/目录下，创建文件夹zookeeper mkdir zookeeper)$ wget http://mirror.bit.edu.cn/apache/zookeep](https://blog.51cto.com/u_16099315/6719028)



 centos7部署mysqldiff 

 kafka 

 zookeeper 

 github
* [centos 7部署rabbitmq centos7部署django
 软件版本：Centos7 \| Python3\.6 \| Django2\.2 操作：在root用户操作完成； 最后更新时间：2021\-02\-031\. 更新系统软件包执行命令:yum update \-y2\. 安装软件包和可能使用的依赖2\.1 执行命令：yum \-y groupinstall "Development tools"2\.2 执行命令：yum install openssl\-devel bzi](https://blog.51cto.com/u_16099199/10322531)



 centos 7部署rabbitmq 

 linux 

 nginx 

 centos 

 python
* [centos7部署rabbitmq教程 centos7部署django
 软件版本详细介绍： 纯净操作系统：Centos7\.2 Python版本：2\.7\.11 Django版本:1\.11\.17查看系统版本cat /etc/redhat\-release一、安装各种工具包及依赖yum \-y groupinstall Development tools或者yum groupinstall Development tools yum install openssl\-devel](https://blog.51cto.com/u_16213565/10132797)



 centos7部署rabbitmq教程 

 Linux 

 Centos 

 Django 

 python
* [centos7部署iscsi centos7部署pwn题目
 摘要1、安装LAMP服务器系统（Linux、Apache、Mariadb MySQL、PHP ）; 2、安装wordpress；一、安装LAMP服务器系统1\.安装LAMP系统：在centOS上可以使用命令yum install进行安装，\-y 表示安装过程中全部选择yesyum \-y install httpd mariadb\-server php php\-mysql php\-gd php\-xml如](https://blog.51cto.com/u_16099229/10230537)



 centos7部署iscsi 

 mysql 

 php 

 html
* [Centos7部署HFish centos7部署pwn题目
 手动部署LNMP环境（CentOS 8） 更新时间：2020\-07\-24 16:15我的收藏 本页目录 前提条件 背景信息 步骤一：准备编译环境 步骤二：安装Nginx 步骤三：安装MySQL 步骤四：安装PHP 步骤五：配置Nginx 步骤六：配置MySQL 步骤七：配置PHP 步骤八：测试访问LNMP平台 后续步骤 本教程介绍如何手动在ECS实例上搭建LNMP环境（CentOS 8），其中LN](https://blog.51cto.com/u_16099242/10731895)



 Centos7部署HFish 

 centos 

 wordpress 

 php 

 WordPress
* [centos7部署confl centos7部署pwn题目
 目录前言手动部署LNMP环境步骤一：准备编译环境步骤二：安装Nginx步骤三：安装MySQL步骤四：安装PHP步骤五：配置Nginx步骤六：配置MySQL步骤七：配置PHP步骤八：测试访问LNMP平台。后续步骤常见问题手动搭建WordPress英文版和其中文版一、搭建WordPress英文版1、搭建WordPress网站2、配置Nginx3、安装并登录WordPress网站。二、搭建WordPr](https://blog.51cto.com/u_12831/10794505)



 centos7部署confl 

 lnmp 

 wordpress 

 linux 

 阿里云
* [CentOS7部署Redis7 centos7部署网站
 1\.做实验之前先执行下面的关闭防火墙和selinux操作关闭防火墙：systemctl stop firewalldsystemctl disable firewalld关闭selinux：临时关闭：setenforce 0 永久关闭：vim /etc/selinux/configSELINUX\=disabled   reboot   \-](https://blog.51cto.com/u_16099228/6308873)



 bc 

 配置文件 

 html
* [CentOS7部署FreeRadius centos7部署pwn题目
 1\.准备 LNMP 环境LNMP 是 Linux、Nginx、MySQL 和 PHP 的缩写，是 WordPress 博客系统依赖的基础运行环境。我们先来准备 LNMP 环境1\.1\.安装 Nginx安装过程参考博客：使用nginx将阿里云服务器升级为https 安装成功后在浏览器中输入虚拟机ip地址，来确认是否已经安装成功。下面是成功过界面将 Nginx 设置为开机自动启动：chkconfig n](https://blog.51cto.com/u_12219/10639426)



 CentOS7部署FreeRadius 

 个人博客 

 wordpress 

 centos 

 php
* [centos7部署keepalived centos7部署pwn题目
 如何在centos7上部署Javaweb项目在liniux系统上部署项目，也是很常见的工作了，小白一边学习一边分享，该文章主要写如何在centos7上部署项目，如果不知道怎么安装虚拟机跟centos7，可以参考我的上一篇博文，如有不足，望请指教。一、首先，我们需要用到两个工具：Winscp、Putty。下载地址：https://pan.baidu.com/s/11CkumYBvgOSiPC01Rq](https://blog.51cto.com/u_16213613/10559999)



 centos7部署keepalived 

 centos7 

 web项目 

 部署 

 liniux系统
* [centos7部署unsion centos7部署pwn题目
 前言：随着计算机技术的普及，搞IT的越来越多，但是随着深入你会发现自己上了贼船，真的是一如IT深似海，从此妹纸是路人啊，当你越来越接近自己想想中的目标是，就会有种渺小感，这个行业知识太过深奥庞大啦。好啦不闲扯，我们开始我们的主题：使用wordpress搭建个人博客。一、环境准备我们先介绍下环境和实验中所需要的包环境：我使用的是centos7\.4的系统建议关掉selinux和影响到80端口的防火墙策](https://blog.51cto.com/u_16213667/10311703)



 centos7部署unsion 

 wordpress 

 nginx 

 php 

 mysql
* [centos7部署nodejs centos7部署pwn题目
 PostgreSQL\+Pgpool2高可用安装步骤1、前置准备1、服务器需要准备三台Centos7的服务、和一个虚拟IP。三台服务器都已经配置好静态IP。没有配的可以参考:主机名IPPostgreSQL版本Pgpool2版本server1192\.168\.159\.18113\.64\.2\.8server2192\.168\.159\.18213\.64\.2\.8server3192\.168\.159\.18313\.6](https://blog.51cto.com/u_16213620/10222240)



 centos7部署nodejs 

 postgresql 

 数据库 

 服务器 

 vim











[![](https://s2.51cto.com/wyfs02/M00/11/37/wKioL1LODoigTqsXAAANiY7zDuk067_middle.jpg?x-oss-process=image/format,webp/ignore-error,1)](https://blog.51cto.com/dyc2005)



[dyc2005](https://blog.51cto.com/dyc2005)








* [107](https://blog.51cto.com/dyc2005/original)
[原创](https://blog.51cto.com/dyc2005/original)
* 256\.9万
人气
* [207](https://blog.51cto.com/dyc2005/followers)
[粉丝](https://blog.51cto.com/dyc2005/followers)
* 69
评论





* [1](https://blog.51cto.com/dyc2005/translate)
[翻译](https://blog.51cto.com/dyc2005/translate)
* [0](https://blog.51cto.com/dyc2005/reproduce)
[转载](https://blog.51cto.com/dyc2005/reproduce)
* [1](https://blog.51cto.com/dyc2005/following)
[关注](https://blog.51cto.com/dyc2005/following)
* 285
收藏



![](https://s2.51cto.com/images/202203/c5b328085ba9a71540d168db1989416c16d83e.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/195f76d50ffb2cd8b16664147e48ea8edd9fd6.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/870061f17c69cc317af760cad5eb8c9a8e42b3.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/f6f53e943b8feeab330770a0ec42efed855946.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/15ab11299b3053d6c281582e1acf449c18b312.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/5636945283bfe677050789457e8ebbc115f77f.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/31b28da6607cbc93cd900122f89b19420ac8c5.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202203/81ba9de79b69d05f4333211abd2d0d4a008a05.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202202/a8ef82362559226c848000f191ce5a08f03207.png?x-oss-process=image/format,webp/resize,h_96,w_107)![](https://s2.51cto.com/images/202202/b67592a476d24a33731174926f050c7209f5df.png?x-oss-process=image/format,webp/resize,h_96,w_107)

关注
[私信](javascript:;)






**分类列表**
[更多](https://blog.51cto.com/dyc2005/classify)

* [\# python\|shell26篇](https://blog.51cto.com/dyc2005/category1.html "#  python|shell")
* [\# linux系列8篇](https://blog.51cto.com/dyc2005/category2.html "#  linux系列")
* [\# windows系列6篇](https://blog.51cto.com/dyc2005/category3.html "#  windows系列")
* [\# 网络工具6篇](https://blog.51cto.com/dyc2005/category4.html "#  网络工具")
* [\# 日常实战13篇](https://blog.51cto.com/dyc2005/category5.html "#  日常实战")






**近期文章**

* [1\.海外盲盒APP开发，海外消费市场的巨大发展空间](https://blog.51cto.com/u_16757490/11568184 "海外盲盒APP开发，海外消费市场的巨大发展空间")
* [2\.什么是算力？为什么说算力时代已经到来？](https://blog.51cto.com/u_16915900/11567032 "什么是算力？为什么说算力时代已经到来？")
* [3\.移动框架对比：uniapp和flutter选哪个好](https://blog.51cto.com/u_16163510/11567228 "移动框架对比：uniapp和flutter选哪个好")
* [4\.升级opessh 到9\.8p1](https://blog.51cto.com/u_16926925/11567893 "升级opessh 到9.8p1")
* [5\.k8s 容器启动失败](https://blog.51cto.com/u_16886123/11567844 "k8s 容器启动失败")





[![新人福利](https://s2.51cto.com/blog/activity/bride/DetailsBride.gif?x-oss-process=image/ignore-error,1)](https://blog.51cto.com/activity-first-publish#xiang)



**文章目录**


* 第1章  
 一、说明
* 第2章  
 二、密钥无密码OpenVpn部署
* 1、软件包安装
* 2、配置openvpn
* 第3章  
 cat /etc/openvpn/server.conf \|egrep '(^$\|^;^\#)'
* 3、easy\-rsa配置证书密钥
* 4、创建证书
* 5、启动openvpn
* 第4章  
 三、防火墙路由配置
* 1、做端口映射
* 2、openvpn本身防火墙配置
* 第5章  
 四、windows客户端配置
* 1、客户端下载与安装
* 2、配置客户端
* 第6章  
 五、基于LDAP认证
* 1、服务器端修改
* 2、修改server.conf配置
* 3、客户端配置










* 每日签到
* 
* [意见  
反馈](https://blog.51cto.com/feedback?utm_medium=rightsuspension)
* 








举报文章



请选择举报类型



内容侵权
涉嫌营销
内容抄袭
违法信息
其他



具体原因



包含不真实信息
涉及个人隐私



原文链接（必填）





补充说明



0/200




上传截图






格式支持JPEG/PNG/JPG，图片不超过1\.9M



![]()






取消
确认


 已经收到您得举报信息，我们会尽快审核









* **目录**
* **赞**
* ****2**收藏**
* **评论**
* **分享**








如有误判或任何疑问，可联系 [「小助手微信：cto51cto」](javascript:;)申诉及反馈。

我知道了






















 [51CTO首页](https://www.51cto.com) 
 [AI.x社区 ![](https://s9.51cto.com/oss/202404/07/2331c9f60a7383b36c1333314be286f249b5b3.png)](https://www.51cto.com/aigc/)
 [博客](https://blog.51cto.com/) 
 [学堂](https://edu.51cto.com/?utm_source=hometop) 
 [精品班](https://e.51cto.com/?utm_platform=pc&utm_medi-um=51cto&utm_source=zhuzhan&utm_content=sy_topbar) 
 [免费课](https://edu.51cto.com/surl=o0bwJ2) 
 [企业培训](https://b.51cto.com/index?utm_source=hometop) 
 [鸿蒙开发者社区](https://ost.51cto.com/?utm_source=hometop) 
 [WOT技术大会](https://51cto.com/wot/?utm_source=dhl) 
 [AIGC创新中国行](https://www.51cto.com/act/aigc/awards) 
 [IT证书 ![](https://s2.51cto.com/oss/202405/15/91545ec31a576825683629ce5f37d4b8a6512c.png)](https://edu.51cto.com/cert/?utm_platform=pc&utm_medium=51cto&utm_source=edu&utm_content=dh)



公众号矩阵
移动端






[短视频](https://edu.51cto.com/videolist/index.html?utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=dh)
[免费课程](https://edu.51cto.com/courselist/index-zh5.html?utm_source=hometop)
[课程排行](https://edu.51cto.com/ranking/index.html?utm_source=hometop)
[直播课](https://e.51cto.com/ncamp/list?utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=13)
[软考学堂](https://e.51cto.com/rk/?utm_platform=pc&utm_medi-um=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=14)


[全部课程](https://e.51cto.com/wejob/list?utm_platform=pc&utm_medi-um=51cto&utm_source=zhuzhan&utm_content=sy_topbar)
[厂商认证](https://e.51cto.com/wejob/list?pid=5&utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=41)
[IT技术](https://e.51cto.com/wejob/list?pid=1&utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=42)
[2024年软考](https://e.51cto.com/rk/?utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_xyzq_rightwzl&rtm_frd=07&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=43)
[PMP项目管理](https://e.51cto.com/wejob/list?pid=33&utm_platform=pc&utm_medium=51cto&utm_source=zhuzhan&utm_content=sy_topbar&rtm_frd=44)
[软考资讯](https://edu.51cto.com/rk/)


[在线学习](https://b.51cto.com/index?utm_source=hometop)


[文章](https://ost.51cto.com/postlist)
[资源](https://ost.51cto.com/resource)
[问答](https://ost.51cto.com/answerlist)
[课堂](https://ost.51cto.com/study)
[专栏](https://ost.51cto.com/column)
[直播](https://ost.51cto.com/activity)


![](https://s5.51cto.com/oss/202302/07/862966771f540df82857144db74b27ee5b4b23.jpeg)51CTO
![](https://s4.51cto.com/oss/202302/07/d53d67c771f5cc42bac359bceb138c4cb1713b.jpg)鸿蒙开发者社区
![](https://s6.51cto.com/oss/202302/07/58786f9973e5e929ef521783e1ee40413b04de.jpeg)51CTO技术栈
![](https://s3.51cto.com/oss/202302/07/c77c03983d48589b1af789dfc284acb6a7c529.jpeg)51CTO官微
![](https://s4.51cto.com/oss/202302/07/544d71641d983430fc9955636e625e6bb21ff9.jpeg)51CTO学堂
![](https://s3.51cto.com/oss/202302/07/f1bd61e720bf669483d941a8486c124f32c451.jpeg)51CTO博客
![](https://s9.51cto.com/oss/202302/07/4719e7b27bae3af5e33552481b6cb913288b01.jpeg)CTO训练营
![](https://s5.51cto.com/oss/202302/07/61a991f484307eed2fe9356cc215c4d8f2dc0f.jpg)鸿蒙开发者社区订阅号
![](https://s3.51cto.com/oss/202405/09/5576f843208b7973bf3965a2cdfd62e4a86054.png)51CTO题库小程序


![](https://s8.51cto.com/oss/202302/07/24febb8152cc24e264e642f8cb8bb515efea26.jpeg)51CTO学堂APP
![](https://s9.51cto.com/oss/202302/07/43cca7d0489cc5d1f70060be760bde17d552e2.jpeg)51CTO学堂企业版APP
![](https://s5.51cto.com/oss/202302/07/c4d2220826890472539671d7c428f0c0ee9451.jpg)鸿蒙开发者社区视频号







[![51CTO博客](https://s2.51cto.com/media/2024/blog/logo.png?x-oss-process=image/format,webp/ignore-error,1 "51CTO博客")
51CTO博客
-------](https://blog.51cto.com/)
* [首页](https://blog.51cto.com/)
* [关注](https://blog.51cto.com/nav/following)
* [排行榜](https://blog.51cto.com/ranking/hot/aigc)![排行榜](https://s2.51cto.com/blog/ai.png?x-oss-process=image/format,webp/ignore-error,1)
* [订阅专栏](https://blog.51cto.com/cloumn/index)
* [![新人福利](https://s2.51cto.com/images/100/blog/activity/first2.gif?x-oss-process=image/ignore-error,1)](https://blog.51cto.com/activity-first-publish#shouye)



* 搜索历史
 清空




热门搜索







查看【

】的结果
* [写文章](javascript:;)
* [创作中心](/creative-center/index)
* [登录注册](https://home.51cto.com/index?from_service=blog&scene=login1&reback=https://blog.51cto.com/dyc2005/2469425)








[![51CTO博客](https://s2.51cto.com/images/100/blog/logo4.png?x-oss-process=image/format,webp/ignore-error,1 "51CTO博客")](https://blog.51cto.com/)
Copyright © 2005\-2024 [51CTO.COM](https://www.51CTO.com)
 版权所有 京ICP证060544号




关于我们



| [官方博客](https://blog.51cto.com/51ctoblog) | [全部文章](https://blog.51cto.com/nav) | [热门标签](https://blog.51cto.com/topic/all) | [班级博客](https://blog.51cto.com/class-blog/index) |
| --- | --- | --- | --- |
| [了解我们](https://www.51cto.com/about/aboutus.html) | [网站地图](https://www.51cto.com/about/map.html) | [意见反馈](https://blog.51cto.com/feedback?utm_medium=aboutus2) |





友情链接



| [鸿蒙开发者社区](https://ost.51cto.com/?utm_source=blogsitemap) | [51CTO学堂](https://edu.51cto.com/) |
| --- | --- |
| [51CTO](https://www.51cto.com) | [软考资讯](https://edu.51cto.com/rk/) |










![](https://lingjing-online.cdn.bcebos.com/v1/lingjing-online/appavatar/2024-02-29/955e3bf0-eeaa-4f0a-b4b6-8cf1f7080a96.png?x-bce-process=image/resize,m_fill,w_360,h_360)

51CTO博客AI助手





































我是51CTO博客智能小助手，能够帮助开发者解决在学习和工作中遇到的各种计算机以及开发相关的问题，例如代码生成(用Java写出“hello world”)，代码错误追踪，代码解释，代码语言转换，内容创作等，帮助您快速找到答案。




在Linux的Ubuntu系统中快速部署C\+\+开发环境？













Python GDAL命令行将栅格地理坐标系转为投影坐标系













关于Python中math 和 decimal 模块的解析与实践







































 




























灵境矩阵提供AI服务
